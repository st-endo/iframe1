<!DOCTYPE html>
<html>
<head>
    <title>サイトB</title>
    <script>
        let frameId;
        let specialElement;

        window.addEventListener('message', function(event) {
            const { specialElementId, frameId: id } = event.data;
            frameId = id;
            specialElement = document.querySelector(`#${specialElementId}`);

            if (specialElement) {
                specialElement.addEventListener('mouseenter', handleMouseEnter);
                specialElement.addEventListener('mouseleave', handleMouseLeave);
            }
        }, false);

        function handleMouseEnter() {
            const rect = specialElement.getBoundingClientRect();
            window.parent.postMessage({
                id: frameId,
                rect: rect,
                action: 'show'
            }, '*');
        }

        function handleMouseLeave() {
            window.parent.postMessage({
                id: frameId,
                action: 'hide'
            }, '*');
        }
    </script>
</head>
<body>
    <h2>Site B</h2>
    <button id="btn1" style="position:relative;">Button 1</button>
</body>
</html>
