<!DOCTYPE html>
<html>
<head>
    <title>サイトB</title>
    <style>
        button {
            margin: 10px;
        }
    </style>
    <script>
        let boxes = [];

        window.addEventListener('message', function(event) {
            boxes = event.data.boxes;

            boxes.forEach(box => {
                const specialElement = document.querySelector(box.target);
                if (specialElement) {
                    specialElement.addEventListener('mouseenter', function() {
                        const rect = specialElement.getBoundingClientRect();
                        window.parent.postMessage({
                            action: 'show',
                            id: event.data.frameId,
                            rect: rect,
                            box: box
                        }, '*');
                    });

                    specialElement.addEventListener('mouseleave', function() {
                        window.parent.postMessage({
                            action: 'hide',
                            id: event.data.frameId
                        }, '*');
                    });
                }
            });
        }, false);
    </script>
</head>
<body>
    <h2>site b</h2>
    <script>
        for (let i = 1; i <= 1000; i++) {
            const btn = document.createElement('button');
            btn.id = 'btn' + i;
            btn.textContent = 'Button ' + i;
            document.body.appendChild(btn);
        }
    </script>
</body>
</html>
